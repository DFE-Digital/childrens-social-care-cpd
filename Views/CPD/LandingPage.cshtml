@using Contentful.Core.Models;
@using Childrens_Social_Care_CPD.Enums;
@model ContentfulCollection<PageViewModel>;

@{var pageViewModel = @Model.FirstOrDefault();}
@{
    ViewData["Title"] = pageViewModel?.PageTitle;
}

@{
    if (pageViewModel != null)
    {

        PageTypes PageType;
        Enum.TryParse(pageViewModel.PageName.PageName, out PageType);
        switch (PageType)
        {
            case PageTypes.Master:
               {await Html.RenderPartialAsync("../Templates/Master",@pageViewModel);}
                break;
            case PageTypes.Roles:
               {await Html.RenderPartialAsync("../Templates/Role",@pageViewModel);}
                break;
            case PageTypes.SubRoles:
                 {await Html.RenderPartialAsync("../Templates/Program",@pageViewModel);}
                break;
            default:
                break;
        }
    }
}
