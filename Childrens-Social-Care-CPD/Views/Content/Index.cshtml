@using Childrens_Social_Care_CPD.Contentful.Models;
@using Childrens_Social_Care_CPD.Contentful.Renderers;
@using Contentful.Core.Models;

@model Content;

@inject IRenderer<ContentLink> _contentLinkRenderer
@inject IRenderer<RelatedContent> _relatedContentRenderer

@{
    Layout = Model.SideMenu == null
        ? "_DefaultPageLayout"
        : "_SubPageLayout";
}

@section Hero {
    @{
        var heroBanner = Model.Items?.Find(x => x.GetType() == typeof(HeroBanner));
        if (heroBanner != null)
        {
            <partial name="_HeroBanner" model="heroBanner" />
        }
    }
}

@section PageBanner {
    @if (Model.ShowContentHeader)
    {
        <partial name="_PageBanner" model="Model" />
    }
}

@section SideMenu {
    @if (Model.SideMenu != null)
    {
        <partial name="_SideMenu" model="Model.SideMenu"/>
    }
}

<partial name="_Content" model="Model" />

@_relatedContentRenderer.Render(Model.RelatedContent)