@using Childrens_Social_Care_CPD.Contentful.Models;
@using Childrens_Social_Care_CPD.Contentful.Renderers;
@using Contentful.Core.Models;

@model Content;

@inject IRenderer<ContentLink> _contentLinkRenderer
@inject IRenderer<RelatedContent> _relatedContentRenderer

@{
    Layout = Model.SideMenu == null
        ? "_DefaultPageLayout"
        : "_SubPageLayout";
}

@section Hero {
    @{
        var heroBanner = Model.Items?.FirstOrDefault(x => x.GetType() == typeof(HeroBanner));
        if (heroBanner != null)
        {
            <partial name="_HeroBanner" model="heroBanner" />
        }
    }
}

@section PageBanner {
    @if (Model.ShowContentHeader) {
        <section id="content-banner" class="app-section-content app-section-content--blue govuk-!-margin-top-6">
            <div class="govuk-width-container">
                <div class="govuk-grid-row govuk-!-padding-top-3 govuk-!-padding-bottom-0">
                    <div class="govuk-grid-column-two-thirds-from-desktop govuk-!-padding-top-3">
                        <h1 id="content-banner-title" class="govuk-heading-xl">@Model.ContentTitle</h1>
                        <p id="content-banner-subtitle" class="govuk-body-l">@Model.ContentSubtitle</p>
                    </div>
                </div>
            </div>
        </section>
    }
}

@section SideMenu {
    @if (Model.SideMenu != null)
    {
        <partial name="_SideMenu" model="Model.SideMenu"/>
    }
}

<partial name="_Content" model="Model" />

@_relatedContentRenderer.Render(Model.RelatedContent)